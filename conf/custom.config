/*
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
     aarandad / ampseq_workflow Nextflow config file
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
          Custom config options for institutions
----------------------------------------------------------------------------------------
*/

// NOTE: current configuration target Wynton at UCSF. You may change or erase this file as needed.

process {

    // quality check r instance
    withName: 'qualitycheck|dada2_analysis|dada2_postproc|moire' {
    	beforeScript = 'module load CBI r'
    }
    
    // process resources
    withName: 'cutadapt|qualitycheck' {
      time = '30m'
      cpus = 4
      penv = 'smp'
      memory = '8 GB'
    }
    withName: 'dada2_analysis' {
      time = '600m'
      cpus = 4
      penv = 'smp'
      memory = '8 GB'
    }
    withName: 'dada2_postproc' {
      time = '120m'
      cpus = 4
      penv = 'smp'
      memory = '8 GB'
    }
}

executor {
  $sge {
      queueSize = 1000
      // pollInterval = '30sec'
  }
}
